<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Apk - Edit and rebuild · Master 0xCcC
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Masterccc">
<meta name="description" content="Cheatsheet - Apk rebuild for debug purpose Link to heading This tutorial describes the different steps to edit and rebuild an apk from the apk file.
Prerequisites Link to heading This manipulation require to enable USB debugging in your android device (https://developer.android.com/studio/debug/dev-options) and have adb, apktool, jarsigner, keytool and zipalign installed on your computer. A rooted device is NOT needed.
Get the apk from adb : Link to heading First, get the path to the apk in your filesystem :">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Apk - Edit and rebuild"/>
<meta name="twitter:description" content="Cheatsheet - Apk rebuild for debug purpose Link to heading This tutorial describes the different steps to edit and rebuild an apk from the apk file.
Prerequisites Link to heading This manipulation require to enable USB debugging in your android device (https://developer.android.com/studio/debug/dev-options) and have adb, apktool, jarsigner, keytool and zipalign installed on your computer. A rooted device is NOT needed.
Get the apk from adb : Link to heading First, get the path to the apk in your filesystem :"/>

<meta property="og:title" content="Apk - Edit and rebuild" />
<meta property="og:description" content="Cheatsheet - Apk rebuild for debug purpose Link to heading This tutorial describes the different steps to edit and rebuild an apk from the apk file.
Prerequisites Link to heading This manipulation require to enable USB debugging in your android device (https://developer.android.com/studio/debug/dev-options) and have adb, apktool, jarsigner, keytool and zipalign installed on your computer. A rooted device is NOT needed.
Get the apk from adb : Link to heading First, get the path to the apk in your filesystem :" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://masterccc.github.io/memo/edit_apk/" /><meta property="article:section" content="memo" />
<meta property="article:published_time" content="2019-12-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-12-10T00:00:00+00:00" />




<link rel="canonical" href="https://masterccc.github.io/memo/edit_apk/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.c2a5cdc31d8aead6f14b48bf843558ba7b5ee65d239ea3d1c1f28728f6b13d82.css" integrity="sha256-wqXNwx2K6tbxS0i/hDVYunte5l0jnqPRwfKHKPaxPYI=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.f6534b0b446b75d9b6ad77a97d43ede2ddaeff1b6e2361fb7198d6f8fcb7f83f.css" integrity="sha256-9lNLC0Rrddm2rXepfUPt4t2u/xtuI2H7cZjW&#43;Py3&#43;D8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Master 0xCcC
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/">Home</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/reverse/">Reverse</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/memo/">Memo</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/tools/">Tools</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://masterccc.github.io/memo/edit_apk/">
          Apk - Edit and rebuild
        </a>
      </h1>
    </header>

    <h1 id="cheatsheet---apk-rebuild-for-debug-purpose">
  Cheatsheet - Apk rebuild for debug purpose
  <a class="heading-link" href="#cheatsheet---apk-rebuild-for-debug-purpose">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>This tutorial describes the different steps to edit and rebuild an apk from the apk file.</p>
<h2 id="prerequisites">
  Prerequisites
  <a class="heading-link" href="#prerequisites">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>This manipulation require to enable USB debugging in your android device (<a href="https://developer.android.com/studio/debug/dev-options"  class="external-link" target="_blank" rel="noopener">https://developer.android.com/studio/debug/dev-options</a>) and have <code>adb</code>, <code>apktool</code>, <code>jarsigner</code>, <code>keytool</code> and <code>zipalign</code> installed on your computer.
A rooted device is NOT needed.</p>
<h2 id="get-the-apk-from-adb-">
  Get the apk from adb :
  <a class="heading-link" href="#get-the-apk-from-adb-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>First, get the path to the apk in your filesystem :</p>
<pre tabindex="0"><code>$ adb shell pm path com.name.yourapp
package:/data/app/com.name.yourapp-K1Ep_ZmFrZWRhdGE6KQ==/base.apk
</code></pre><p>Use adb pull with the string of the previous step :</p>
<pre tabindex="0"><code>$adb pull /data/app/com.name.yourapp-K1Ep_ZmFrZWRhdGE6KQ==/base.apk
</code></pre><h2 id="decompile-and-edit">
  Decompile and edit
  <a class="heading-link" href="#decompile-and-edit">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Decompile :</p>
<pre tabindex="0"><code>$apktool d base.apk
</code></pre><p>A folder called <code>base</code> is created. Now you can edit files (smali,res,assets,&hellip;).</p>
<h2 id="rebuild-">
  Rebuild :
  <a class="heading-link" href="#rebuild-">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Rebuild the apk with <code>apktool</code>:</p>
<pre tabindex="0"><code>$apktool b base/
</code></pre><p>Create a keystore (do it just once):</p>
<pre tabindex="0"><code>$keytool -genkey -v -keystore debug.keystore -alias android -keyalg RSA -keysize 2048 -validity 20000
</code></pre><p>Go to the base/dist folder.</p>
<p>Sign the apk :</p>
<pre tabindex="0"><code>$jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore ../../debug.keystore base.apk android
</code></pre><p>Align the zip :</p>
<pre tabindex="0"><code>$/opt/android-sdk/build-tools/29.0.2/zipalign -v 4 base.apk base_aligned.apk
</code></pre><p>Install on your device :</p>
<pre tabindex="0"><code>$adb install base_aligned.apk
</code></pre><p>Enjoy.</p>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2023
     Masterccc 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>